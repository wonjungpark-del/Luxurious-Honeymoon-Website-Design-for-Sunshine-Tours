<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë°œë¦¬ ë¦¬ì¡°íŠ¸ - ì„ ìƒ¤ì¸íˆ¬ì–´</title>
    <meta name="description" content="ì¸ë„ë„¤ì‹œì•„ ë°œë¦¬ì˜ í”„ë¦¬ë¯¸ì—„ ë¦¬ì¡°íŠ¸ë¥¼ ë§Œë‚˜ë³´ì„¸ìš”.">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Noto+Serif+KR:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link href="/static/css/style.css" rel="stylesheet">
    
    <style>
        /* Region Page Styles */
        .region-hero {
            position: relative;
            height: 60vh;
            min-height: 400px;
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(0,0,0,0.3), rgba(0,0,0,0.5));
        }
        
        .hero-content {
            position: relative;
            z-index: 2;
            text-align: center;
            color: white;
            max-width: 800px;
            padding: 2rem;
        }
        
        .hero-content h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .hero-content p {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            opacity: 0.95;
        }
        
        /* Region Info Section */
        .region-info {
            background: white;
            padding: 3rem 2rem;
            margin: 3rem auto;
            max-width: 1200px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        
        .region-description {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #444;
            margin-bottom: 2rem;
        }
        
        .region-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            padding: 2rem;
            background: #f8f9fa;
            border-radius: 8px;
            margin: 2rem 0;
        }
        
        .meta-item {
            text-align: center;
        }
        
        .meta-label {
            color: var(--primary-color);
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }
        
        .meta-value {
            color: #2C2C2C;
            font-size: 1rem;
        }
        
        /* Resorts Section */
        .resorts-section {
            max-width: 1200px;
            margin: 4rem auto;
            padding: 0 2rem;
        }
        
        .section-header {
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .section-header h2 {
            font-size: 2.5rem;
            color: #2C2C2C;
            margin-bottom: 1rem;
        }
        
        .section-header p {
            font-size: 1.1rem;
            color: #666;
        }
        
        /* Resort Card */
        .resort-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            margin-bottom: 3rem;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .resort-card:hover {
            box-shadow: 0 8px 24px rgba(0,0,0,0.12);
        }
        
        .resort-layout {
            display: grid;
            grid-template-columns: 500px 1fr;
            gap: 0;
        }
        
        /* Main Image Section */
        .resort-main-image {
            position: relative;
            height: 400px;
            overflow: hidden;
            cursor: pointer;
        }
        
        .resort-main-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }
        
        .resort-card:hover .resort-main-image img {
            transform: scale(1.05);
        }
        
        .resort-category-badge {
            position: absolute;
            top: 1rem;
            left: 1rem;
            padding: 0.5rem 1rem;
            background: rgba(201, 169, 110, 0.95);
            color: white;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            letter-spacing: 0.5px;
            z-index: 2;
        }
        
        .view-gallery-btn {
            position: absolute;
            bottom: 1rem;
            right: 1rem;
            padding: 0.75rem 1.5rem;
            background: rgba(255, 255, 255, 0.95);
            color: #C9A96E;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 2;
        }
        
        .view-gallery-btn:hover {
            background: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        /* Resort Info Section */
        .resort-info {
            padding: 1.5rem 2rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        
        .resort-header {
            margin-bottom: 1rem;
        }
        
        .resort-name-ko {
            font-size: 2rem;
            font-weight: 700;
            color: #2C2C2C;
            margin-bottom: 0.5rem;
        }
        
        .resort-name-en {
            font-size: 1.2rem;
            color: #888;
            font-weight: 400;
        }
        
        .resort-description {
            font-size: 1rem;
            line-height: 1.6;
            color: #555;
            margin-bottom: 1rem;
            max-height: 4.8em;
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
        }
        
        /* Features (Highlights) */
        .resort-features {
            margin-bottom: 1rem;
        }
        
                .features-title {
            font-size: 0.95rem;
            font-weight: 600;
            color: #C9A96E;
            margin-bottom: 0.75rem;
        }
        
        .features-list {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
        }
        
        .feature-item {
            display: flex;
            align-items: center;
            gap: 0.4rem;
            font-size: 0.9rem;
            color: #444;
        }
        
        .feature-item i {
            display: none; /* ë³„ ì•„ì´ì½˜ ìˆ¨ê¹€ */
        }
        
        .feature-item::before {
            content: "â€¢";
            color: #C9A96E;
            font-weight: 700;
            font-size: 1.2rem;
        }
        
        /* Action Buttons */
        .resort-actions {
            display: flex;
            gap: 1rem;
            margin-top: auto;
        }
        
        .btn-inquiry {
            flex: 1;
            padding: 1rem;
            background: linear-gradient(135deg, #C9A96E 0%, #B8935E 100%);
            color: white;
            text-align: center;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .btn-inquiry:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(201, 169, 110, 0.4);
        }
        
        /* Gallery Thumbnails (below resort card) */
        .resort-gallery {
            display: none;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1rem;
            padding: 1.5rem;
            background: #f8f9fa;
            border-top: 1px solid #e0e0e0;
        }
        
        .resort-gallery.show {
            display: grid;
        }
        
        .gallery-thumb {
            aspect-ratio: 4/3;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .gallery-thumb:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .gallery-thumb img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* Image Modal */
        .image-modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
        }
        
        .modal-content-wrapper {
            position: relative;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }
        
        .modal-image {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
            border-radius: 8px;
        }
        
        .modal-close {
            position: absolute;
            top: 2rem;
            right: 2rem;
            color: white;
            font-size: 3rem;
            font-weight: 300;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10000;
        }
        
        .modal-close:hover {
            color: #C9A96E;
            transform: rotate(90deg);
        }
        
        .modal-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(201, 169, 110, 0.8);
            color: white;
            border: none;
            padding: 1.5rem 1rem;
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 4px;
        }
        
        .modal-nav:hover {
            background: rgba(201, 169, 110, 1);
        }
        
        .modal-prev { left: 2rem; }
        .modal-next { right: 2rem; }
        
        .modal-counter {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 1.1rem;
            background: rgba(0,0,0,0.6);
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
        }
        
        /* Responsive */
        @media (max-width: 968px) {
            .resort-layout {
                grid-template-columns: 1fr;
            }
            
            .resort-main-image {
                height: 300px;
            }
            
            .features-list {
                grid-template-columns: 1fr;
            }
            
            .hero-content h1 {
                font-size: 2.5rem;
            }
        }
        
        @media (max-width: 768px) {
            .hero-content h1 {
                font-size: 2rem;
            }
            
            .hero-content p {
                font-size: 1.2rem;
            }
            
            .resort-name-ko {
                font-size: 1.5rem;
            }
            
            .gallery-thumb {
                min-width: 120px;
            }
        }
    </style>
</head>
<body>
    <!-- Header & Navigation -->
    <header>
        <nav class="container">
            <div class="logo">
                <a href="/" style="display: flex; align-items: center; gap: 12px;">
                    <img src="/static/images/logo-sunrise.webp" alt="Sunshine Tour" style="height: 40px; width: auto; object-fit: contain;">
                    <span style="font-family: 'Montserrat', sans-serif; font-weight: 700; font-size: 1.3rem; letter-spacing: 0.5px;">SUNSHINE TOUR</span>
                </a>
            </div>
            <ul class="nav-links">
                <li class="nav-dropdown">
                    <a href="#destinations">Destinations <i class="fas fa-chevron-down"></i></a>
                    <div class="dropdown-content">
                        <a href="/thailand-khao-lak">ğŸ‡¹ğŸ‡­ íƒœêµ­ ì¹´ì˜¤ë½</a>
                        <a href="/thailand-koh-samui">ğŸ‡¹ğŸ‡­ íƒœêµ­ ì½”ì‚¬ë¬´ì´</a>
                        <a href="/thailand-phuket">ğŸ‡¹ğŸ‡­ íƒœêµ­ í‘¸ì¼“</a>
                        <a href="/thailand-krabi">ğŸ‡¹ğŸ‡­ íƒœêµ­ ë„ë¼ë¹„</a>
                        <a href="/thailand-pattaya">ğŸ‡¹ğŸ‡­ íƒœêµ­ íŒŒíƒ€ì•¼</a>
                        <a href="/thailand-hua-hin">ğŸ‡¹ğŸ‡­ íƒœêµ­ í›„ì•„íŒ</a>
                    </div>
                </li>
                <li><a href="/reviews">Reviews</a></li>
                <li><a href="/inquiry">Contact</a></li>
                <li><a href="/admin">Admin</a></li>
            </ul>
            <button class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="region-hero" style="background-image: url('/static/images/regions/bali/bali-01.webp');">
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <h1>ğŸŒ´ ë°œë¦¬</h1>
            <p>í”„ë¦¬ë¯¸ì—„ í—ˆë‹ˆë¬¸ ì—¬í–‰ì§€</p>
            <a href="#resorts" class="btn btn-primary">ë¦¬ì¡°íŠ¸ ë‘˜ëŸ¬ë³´ê¸°</a>
        </div>
    </section>

    <!-- Region Information -->
    <div class="container">
        <div class="region-info">
            <h2 class="section-title">ë°œë¦¬ ì†Œê°œ</h2>
            <div class="region-description">
                ì„¸ê³„ì ì¸ ìˆ˜ì¤€ì˜ ë¦¬ì¡°íŠ¸ì™€ ì•„ë¦„ë‹¤ìš´ ìì—° ê²½ê´€ì´ ì–´ìš°ëŸ¬ì§„ ìµœê³ ì˜ í—ˆë‹ˆë¬¸ ì—¬í–‰ì§€ì…ë‹ˆë‹¤.
            </div>
            
            <div class="region-meta">
                
        <div class="meta-item">
            <div class="meta-label"><i class="fas fa-plane-departure"></i> ë¹„í–‰ì‹œê°„</div>
            <div class="meta-value">ë¬¸ì˜ ì£¼ì„¸ìš”</div>
        </div>
        <div class="meta-item">
            <div class="meta-label"><i class="fas fa-sun"></i> ì—¬í–‰ ìµœì ê¸°</div>
            <div class="meta-value">ì—°ì¤‘</div>
        </div>
    
            </div>
        </div>
    </div>

    <!-- Resorts Section -->
    <section class="resorts-section" id="resorts">
        <div class="section-header">
            <h2>ì¶”ì²œ ë¦¬ì¡°íŠ¸</h2>
            <p>ë°œë¦¬ì˜ ì—„ì„ ëœ í”„ë¦¬ë¯¸ì—„ ë¦¬ì¡°íŠ¸ë¥¼ ë§Œë‚˜ë³´ì„¸ìš”</p>
        </div>
        
        <div id="resorts-container" data-region="region-bali">
            <!-- Resorts will be loaded here -->
        </div>
    </section>

    <!-- Image Modal -->
    <div id="imageModal" class="image-modal">
        <span class="modal-close" onclick="closeModal()">&times;</span>
        <div class="modal-content-wrapper">
            <button class="modal-nav modal-prev" onclick="changeModalImage(-1)">
                <i class="fas fa-chevron-left"></i>
            </button>
            <img id="modalImage" class="modal-image" src="" alt="">
            <button class="modal-nav modal-next" onclick="changeModalImage(1)">
                <i class="fas fa-chevron-right"></i>
            </button>
            <div class="modal-counter">
                <span id="currentImageIndex">1</span> / <span id="totalImages">0</span>
            </div>
        </div>
    </div>

    <!-- Footer -->
    
    <!-- í¬í†  ê°¤ëŸ¬ë¦¬ -->
    <section class="gallery-section">
        <div class="container">
            <h2 class="section-title">ë°œë¦¬ í•˜ì´ë¼ì´íŠ¸</h2>
            <div class="gallery-grid">

                <div class="gallery-item large">
                    <img src="/static/images/destinations/bali/BAL_1.webp" alt="ìš°ë¶“ ë¼ì´ìŠ¤ í…Œë¼ìŠ¤" 
                         onerror="this.src='https://images.unsplash.com/photo-1506929562872-bb421503ef21?w=800'">
                    <div class="gallery-overlay">
                        <h3>ìš°ë¶“ ë¼ì´ìŠ¤ í…Œë¼ìŠ¤</h3>
                        <p>ê³„ë‹¨ì‹ ë…¼ì˜ ì•„ë¦„ë‹¤ì›€</p>
                    </div>
                </div>

                <div class="gallery-item small">
                    <img src="/static/images/destinations/bali/BAL_4.webp" alt="ë°œë¦¬ ì‚¬ì›" 
                         onerror="this.src='https://images.unsplash.com/photo-1506929562872-bb421503ef21?w=800'">
                    <div class="gallery-overlay">
                        <h3>ë°œë¦¬ ì‚¬ì›</h3>
                        <p>ì‹ ë¹„ë¡œìš´ íŒë‘ ë¬¸í™”</p>
                    </div>
                </div>

                <div class="gallery-item small">
                    <img src="/static/images/destinations/bali/BAL_2.webp" alt="ëŸ­ì…”ë¦¬ ë¹Œë¼" 
                         onerror="this.src='https://images.unsplash.com/photo-1506929562872-bb421503ef21?w=800'">
                    <div class="gallery-overlay">
                        <h3>ëŸ­ì…”ë¦¬ ë¹Œë¼</h3>
                        <p>í”„ë¼ì´ë¹— í’€ë¹Œë¼</p>
                    </div>
                </div>

                <div class="gallery-item medium">
                    <img src="/static/images/destinations/bali/BAL_5.webp" alt="ë°œë¦¬ ë¹„ì¹˜" 
                         onerror="this.src='https://images.unsplash.com/photo-1506929562872-bb421503ef21?w=800'">
                    <div class="gallery-overlay">
                        <h3>ë°œë¦¬ ë¹„ì¹˜</h3>
                        <p>ì„œí•‘ê³¼ íœ´ì‹ì˜ ì²œêµ­</p>
                    </div>
                </div>

                <div class="gallery-item small">
                    <img src="/static/images/destinations/bali/BAL_6.webp" alt="ì •ê¸€ ìŠ¤ìœ™" 
                         onerror="this.src='https://images.unsplash.com/photo-1506929562872-bb421503ef21?w=800'">
                    <div class="gallery-overlay">
                        <h3>ì •ê¸€ ìŠ¤ìœ™</h3>
                        <p>ì¸ìŠ¤íƒ€ ê°ì„± í¬í† ì¡´</p>
                    </div>
                </div>

                <div class="gallery-item small">
                    <img src="/static/images/destinations/bali/BAL_7.webp" alt="ìŠ¤íŒŒ & ë§ˆì‚¬ì§€" 
                         onerror="this.src='https://images.unsplash.com/photo-1506929562872-bb421503ef21?w=800'">
                    <div class="gallery-overlay">
                        <h3>ìŠ¤íŒŒ & ë§ˆì‚¬ì§€</h3>
                        <p>ì„¸ê³„ì ì¸ ìŠ¤íŒŒ</p>
                    </div>
                </div>

                <div class="gallery-item medium">
                    <img src="/static/images/destinations/bali/BAL_8.webp" alt="ì •ê¸€ ì›Œí„°í´" 
                         onerror="this.src='https://images.unsplash.com/photo-1506929562872-bb421503ef21?w=800'">
                    <div class="gallery-overlay">
                        <h3>ì •ê¸€ ì›Œí„°í´</h3>
                        <p>ìì—° ì† íë§</p>
                    </div>
                </div>

                <div class="gallery-item small">
                    <img src="/static/images/destinations/bali/BAL_4.webp" alt="ë°œë¦¬ ì‚¬ì› ë¬¸í™”" 
                         onerror="this.src='https://images.unsplash.com/photo-1506929562872-bb421503ef21?w=800'">
                    <div class="gallery-overlay">
                        <h3>ë°œë¦¬ ì‚¬ì› ë¬¸í™”</h3>
                        <p>íŒë‘ ì „í†µ ì²´í—˜</p>
                    </div>
                </div>

                <div class="gallery-item large">
                    <img src="/static/images/destinations/bali/BAL_3.webp" alt="ì„ ì…‹ ë””ë„ˆ" 
                         onerror="this.src='https://images.unsplash.com/photo-1506929562872-bb421503ef21?w=800'">
                    <div class="gallery-overlay">
                        <h3>ì„ ì…‹ ë””ë„ˆ</h3>
                        <p>í•´ë³€ ë‚­ë§Œ ì‹ì‚¬</p>
                    </div>
                </div>

            </div>
        </div>
    </section>
    
    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container">
            <h2>ì§€ê¸ˆ ë°”ë¡œ ë¬¸ì˜í•˜ì„¸ìš”!</h2>
            <p>ì „ë¬¸ ìƒë‹´ì‚¬ê°€ ìµœì ì˜ ì—¬í–‰ í”Œëœì„ ì œì•ˆí•´ë“œë¦½ë‹ˆë‹¤</p>
            <a href="/index.html#contact" class="cta-button">ë¬¸ì˜í•˜ê¸°</a>
        </div>
    </section>

    <footer style="background-color: #2C2C2C; color: white; padding: 3rem 2rem; margin-top: 4rem;">
        <div class="container" style="max-width: 1200px; margin: 0 auto; text-align: center;">
            <p style="margin-bottom: 1rem; font-size: 1.1rem;">
                <i class="fas fa-phone"></i> 02-1234-5678 | 
                <i class="fas fa-envelope"></i> info@sunshinetour.com
            </p>
            <p style="opacity: 0.8; font-size: 0.9rem;">
                &copy; 2024 Sunshine Tour. All rights reserved.
            </p>
        </div>
    </footer>

    <script>
        // Region ID
        const REGION_ID = 'region-bali';
        
        // Resort data from mapping file (will be replaced by API)
        const resortData_OLD = [
        {
                "name_ko": "ë°˜ì–€íŠ¸ë¦¬",
                "name_en": "Banyan Tree",
                "category": "ëŸ­ì…”ë¦¬",
                "description": "ì„¸ê³„ì ì¸ ëª…ì„±ì˜ ëŸ­ì…”ë¦¬ ë¦¬ì¡°íŠ¸ë¡œ, ìµœìƒê¸‰ ì„œë¹„ìŠ¤ì™€ í”„ë¼ì´ë¹—í•œ ê³µê°„ì„ ì œê³µí•©ë‹ˆë‹¤. í—ˆë‹ˆë¬¸ ì»¤í”Œì„ ìœ„í•œ ë¡œë§¨í‹±í•œ ë¶„ìœ„ê¸°ì™€ í•¨ê»˜ ìŠì§€ ëª»í•  ì¶”ì–µì„ ì„ ì‚¬í•©ë‹ˆë‹¤.",
                "images": [
                        "/static/images/resorts/bali/bali-resort01-01.webp",
                        "/static/images/resorts/bali/bali-resort01-02.webp",
                        "/static/images/resorts/bali/bali-resort01-03.webp",
                        "/static/images/resorts/bali/bali-resort01-04.webp",
                        "/static/images/resorts/bali/bali-resort01-05.webp",
                        "/static/images/resorts/bali/bali-resort01-06.webp",
                        "/static/images/resorts/bali/bali-resort01-07.webp"
                ],
                "features": [
                        "í”„ë¼ì´ë¹— í’€ë¹Œë¼",
                        "ê³ ê¸‰ ìŠ¤íŒŒ & ë§ˆì‚¬ì§€",
                        "ë¯¸ìŠë­ ë ˆìŠ¤í† ë‘",
                        "24ì‹œê°„ ì»¨ì‹œì–´ì§€",
                        "ê³µí•­ í”½ì—… ì„œë¹„ìŠ¤",
                        "í”„ë¼ì´ë¹— ë¹„ì¹˜ ì•¡ì„¸ìŠ¤"
                ]
        },
        {
                "name_ko": "ì•„ì•¼ë‚˜",
                "name_en": "AYANA",
                "category": "ëŸ­ì…”ë¦¬",
                "description": "ì„¸ê³„ì ì¸ ëª…ì„±ì˜ ëŸ­ì…”ë¦¬ ë¦¬ì¡°íŠ¸ë¡œ, ìµœìƒê¸‰ ì„œë¹„ìŠ¤ì™€ í”„ë¼ì´ë¹—í•œ ê³µê°„ì„ ì œê³µí•©ë‹ˆë‹¤. í—ˆë‹ˆë¬¸ ì»¤í”Œì„ ìœ„í•œ ë¡œë§¨í‹±í•œ ë¶„ìœ„ê¸°ì™€ í•¨ê»˜ ìŠì§€ ëª»í•  ì¶”ì–µì„ ì„ ì‚¬í•©ë‹ˆë‹¤.",
                "images": [
                        "/static/images/resorts/bali/bali-resort02-01.webp",
                        "/static/images/resorts/bali/bali-resort02-02.webp",
                        "/static/images/resorts/bali/bali-resort02-03.webp",
                        "/static/images/resorts/bali/bali-resort02-04.webp",
                        "/static/images/resorts/bali/bali-resort02-05.webp",
                        "/static/images/resorts/bali/bali-resort02-06.webp",
                        "/static/images/resorts/bali/bali-resort02-07.webp"
                ],
                "features": [
                        "í”„ë¼ì´ë¹— í’€ë¹Œë¼",
                        "ê³ ê¸‰ ìŠ¤íŒŒ & ë§ˆì‚¬ì§€",
                        "ë¯¸ìŠë­ ë ˆìŠ¤í† ë‘",
                        "24ì‹œê°„ ì»¨ì‹œì–´ì§€",
                        "ê³µí•­ í”½ì—… ì„œë¹„ìŠ¤",
                        "í”„ë¼ì´ë¹— ë¹„ì¹˜ ì•¡ì„¸ìŠ¤"
                ]
        },
        {
                "name_ko": "í¬ì‹œì¦Œ",
                "name_en": "Four Seasons",
                "category": "ëŸ­ì…”ë¦¬",
                "description": "ì„¸ê³„ì ì¸ ëª…ì„±ì˜ ëŸ­ì…”ë¦¬ ë¦¬ì¡°íŠ¸ë¡œ, ìµœìƒê¸‰ ì„œë¹„ìŠ¤ì™€ í”„ë¼ì´ë¹—í•œ ê³µê°„ì„ ì œê³µí•©ë‹ˆë‹¤. í—ˆë‹ˆë¬¸ ì»¤í”Œì„ ìœ„í•œ ë¡œë§¨í‹±í•œ ë¶„ìœ„ê¸°ì™€ í•¨ê»˜ ìŠì§€ ëª»í•  ì¶”ì–µì„ ì„ ì‚¬í•©ë‹ˆë‹¤.",
                "images": [
                        "/static/images/resorts/bali/bali-resort04-01.webp",
                        "/static/images/resorts/bali/bali-resort04-02.webp",
                        "/static/images/resorts/bali/bali-resort04-03.webp",
                        "/static/images/resorts/bali/bali-resort04-04.webp",
                        "/static/images/resorts/bali/bali-resort04-05.webp",
                        "/static/images/resorts/bali/bali-resort04-06.webp",
                        "/static/images/resorts/bali/bali-resort04-07.webp"
                ],
                "features": [
                        "í”„ë¼ì´ë¹— í’€ë¹Œë¼",
                        "ê³ ê¸‰ ìŠ¤íŒŒ & ë§ˆì‚¬ì§€",
                        "ë¯¸ìŠë­ ë ˆìŠ¤í† ë‘",
                        "24ì‹œê°„ ì»¨ì‹œì–´ì§€",
                        "ê³µí•­ í”½ì—… ì„œë¹„ìŠ¤",
                        "í”„ë¼ì´ë¹— ë¹„ì¹˜ ì•¡ì„¸ìŠ¤"
                ]
        },
        {
                "name_ko": "ì•Œë€ë“œë¼",
                "name_en": "Alindra",
                "category": "í”„ë¦¬ë¯¸ì—„",
                "description": "í”„ë¦¬ë¯¸ì—„ê¸‰ ì‹œì„¤ê³¼ ì„œë¹„ìŠ¤ë¥¼ í•©ë¦¬ì ì¸ ê°€ê²©ìœ¼ë¡œ ì œê³µí•˜ëŠ” ë¦¬ì¡°íŠ¸ì…ë‹ˆë‹¤. í¸ì•ˆí•œ íœ´ì‹ê³¼ ë‹¤ì–‘í•œ ì•¡í‹°ë¹„í‹°ë¥¼ ë™ì‹œì— ì¦ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                "images": [
                        "/static/images/resorts/bali/bali-resort03-01.webp",
                        "/static/images/resorts/bali/bali-resort03-02.webp",
                        "/static/images/resorts/bali/bali-resort03-03.webp",
                        "/static/images/resorts/bali/bali-resort03-04.webp",
                        "/static/images/resorts/bali/bali-resort03-05.webp",
                        "/static/images/resorts/bali/bali-resort03-06.webp",
                        "/static/images/resorts/bali/bali-resort03-07.webp"
                ],
                "features": [
                        "ì¸í”¼ë‹ˆí‹° í’€",
                        "ìŠ¤íŒŒ & ì›°ë‹ˆìŠ¤",
                        "ê³ ê¸‰ ë ˆìŠ¤í† ë‘",
                        "ë¬´ë£Œ Wi-Fi",
                        "í”¼íŠ¸ë‹ˆìŠ¤ ì„¼í„°",
                        "ë£¸ì„œë¹„ìŠ¤"
                ]
        }
];
        
        let currentModalImages = [];
        let currentImageIndex = 0;
        
        // Load resorts from API
        async function loadResorts() {
            try {
                const response = await fetch(`/api/resorts?region_id=${REGION_ID}&is_active=true`);
                const result = await response.json();
                
                const container = document.getElementById('resorts-container');
                
                if (result.success && result.data.length > 0) {
                    const resorts = result.data;
                    
                    container.innerHTML = resorts.map(resort => {
                        // API already returns arrays, no need to parse
                        const features = Array.isArray(resort.features) ? resort.features : [];
                        const gallery = Array.isArray(resort.gallery_images) ? resort.gallery_images : [];
                        
                        // Category badge
                        const categoryLabels = {
                            'luxury': 'ëŸ­ì…”ë¦¬',
                            'premium': 'í”„ë¦¬ë¯¸ì—„',
                            'standard': 'ìŠ¤íƒ ë‹¤ë“œ'
                        };
                        
                        const fallbackImg = 'https://images.unsplash.com/photo-1571896349842-33c89424de2d?q=80&w=2080';
                        
                        return `
                            <div class="resort-card">
                                <div class="resort-content-wrapper">
                                    <div class="resort-header">
                                        <div class="resort-image">
                                            <img src="${resort.main_image_url || fallbackImg}" 
                                                 alt="${resort.name_ko}"
                                                 onerror="this.src='${fallbackImg}'">
                                            ${resort.category ? `<div class="resort-badge">${categoryLabels[resort.category] || resort.category}</div>` : ''}
                                        </div>
                                        <div class="resort-info">
                                            <div class="resort-category">${categoryLabels[resort.category] || 'RESORT'}</div>
                                            <h2 class="resort-name">${resort.name_ko}</h2>
                                            <p class="resort-description">${resort.description || ''}</p>
                                            ${features.length > 0 ? `
                                                <div class="resort-features">
                                                    ${features.slice(0, 4).map(feature => `
                                                        <div class="feature-item">
                                                            <i class="fas fa-check-circle"></i>
                                                            <span>${feature}</span>
                                                        </div>
                                                    `).join('')}
                                                </div>
                                            ` : ''}
                                            <a href="/inquiry" class="resort-cta">ìƒë‹´ ì‹ ì²­í•˜ê¸°</a>
                                        </div>
                                    </div>
                                    ${gallery.length > 0 ? `
                                        <div class="resort-gallery">
                                            ${gallery.slice(0, 6).map((img, index) => `
                                                <div class="gallery-item" onclick="openLightbox('${img}', '${resort.name_ko} - ì´ë¯¸ì§€ ${index + 1}')">
                                                    <img src="${img}" alt="${resort.name_ko} - ì´ë¯¸ì§€ ${index + 1}"
                                                         onerror="this.src='${fallbackImg}'">
                                                    <div class="gallery-overlay">
                                                        <i class="fas fa-search-plus"></i>
                                                    </div>
                                                </div>
                                            `).join('')}
                                        </div>
                                    ` : ''}
                                </div>
                            </div>
                        `;
                    }).join('');
                } else {
                    container.innerHTML = `
                        <div class="no-resorts">
                            <i class="fas fa-hotel"></i>
                            <p>í˜„ì¬ ë“±ë¡ëœ ë¦¬ì¡°íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.<br>ê³§ ë©‹ì§„ ë¦¬ì¡°íŠ¸ë“¤ì„ ì†Œê°œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.</p>
                        </div>
                    `;
                }
            } catch (error) {
                console.error('Error loading resorts:', error);
                document.getElementById('resorts-container').innerHTML = `
                    <div class="error-resorts">
                        <i class="fas fa-exclamation-circle"></i>
                        <p>ë¦¬ì¡°íŠ¸ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.<br>ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.</p>
                    </div>
                `;
            }
        }
        
        // Lightbox functionality
        let currentModalImages = [];
        let currentImageIndex = 0;
        
        function openLightbox(imgSrc, caption) {
            // Find resort gallery images for navigation
            const galleries = document.querySelectorAll('.resort-gallery .gallery-item img');
            currentModalImages = Array.from(galleries).map(img => img.src);
            currentImageIndex = currentModalImages.indexOf(imgSrc);
            
            showModalImage(currentImageIndex);
            
            const modal = document.getElementById('imageModal');
            if (modal) {
                modal.style.display = 'flex';
            }
        }
        
        // Render resorts (OLD - replaced by loadResorts)
        function renderResorts_OLD() {
            const container = document.getElementById('resorts-container');
            container.innerHTML = '';
            
            resortData.forEach((resort, index) => {
                const resortCard = createResortCard(resort, index);
                container.appendChild(resortCard);
            });
        }
        
        // Create resort card
        function createResortCard(resort, index) {
            const card = document.createElement('div');
            card.className = 'resort-card';
            card.id = `resort-${index}`;
            
            const mainImage = resort.images[0];
            const galleryImages = resort.images.slice(1);
            
            card.innerHTML = `
                <div class="resort-layout">
                    <div class="resort-main-image" onclick="openGallery(${index}, 0)">
                        <img src="${mainImage}" alt="${resort.name_ko}">
                        <div class="resort-category-badge">${resort.category}</div>
                        <button class="view-gallery-btn" onclick="event.stopPropagation(); toggleGallery(${index})">
                            <i class="fas fa-images"></i> ì‚¬ì§„ ${resort.images.length}ì¥
                        </button>
                    </div>
                    
                    <div class="resort-info">
                        <div>
                            <div class="resort-header">
                                <h3 class="resort-name-ko">${resort.name_ko}</h3>
                                <div class="resort-name-en">${resort.name_en}</div>
                            </div>
                            
                            <p class="resort-description">${resort.description}</p>
                            
                            <div class="resort-features">
                                <div class="features-title">ì£¼ìš” íŠ¹ì§•</div>
                                <div class="features-list">
                                    ${resort.features.map(f => `
                                        <div class="feature-item">
                                            <i class="fas fa-check-circle"></i>
                                            <span>${f}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                        
                        <div class="resort-actions">
                            <a href="/inquiry" class="btn-inquiry">
                                <i class="fas fa-envelope"></i> ìƒë‹´ ì‹ ì²­
                            </a>
                        </div>
                    </div>
                </div>
                
                <div class="resort-gallery" id="gallery-${index}">
                    ${resort.images.map((img, imgIndex) => `
                        <div class="gallery-thumb" onclick="openGallery(${index}, ${imgIndex})">
                            <img src="${img}" alt="${resort.name_ko} ${imgIndex + 1}">
                        </div>
                    `).join('')}
                </div>
            `;
            
            return card;
        }
        
        // Toggle gallery visibility
        function toggleGallery(resortIndex) {
            const gallery = document.getElementById(`gallery-${resortIndex}`);
            gallery.classList.toggle('show');
        }
        
        // Open image in modal
        function openGallery(resortIndex, imageIndex) {
            currentModalImages = resortData[resortIndex].images;
            currentImageIndex = imageIndex;
            
            const modal = document.getElementById('imageModal');
            const modalImage = document.getElementById('modalImage');
            
            modal.style.display = 'block';
            modalImage.src = currentModalImages[imageIndex];
            updateModalCounter();
            
            document.body.style.overflow = 'hidden';
        }
        
        // Close modal
        function closeModal() {
            const modal = document.getElementById('imageModal');
            if (modal) {
                modal.style.display = 'none';
            }
        }
        
        // Change image in modal
        function changeModalImage(direction) {
            currentImageIndex += direction;
            
            if (currentImageIndex >= currentModalImages.length) {
                currentImageIndex = 0;
            } else if (currentImageIndex < 0) {
                currentImageIndex = currentModalImages.length - 1;
            }
            
            showModalImage(currentImageIndex);
        }
        
        // Show modal image
        function showModalImage(index) {
            const modalImg = document.getElementById('modalImage');
            const currentIndexEl = document.getElementById('currentImageIndex');
            const totalImagesEl = document.getElementById('totalImages');
            
            if (modalImg && currentModalImages.length > 0) {
                modalImg.src = currentModalImages[index];
                if (currentIndexEl) currentIndexEl.textContent = index + 1;
                if (totalImagesEl) totalImagesEl.textContent = currentModalImages.length;
            }
        }
        
        // Update modal counter (OLD - replaced by showModalImage)
        function updateModalCounter_OLD() {
            document.getElementById('currentImageIndex').textContent = currentImageIndex + 1;
            document.getElementById('totalImages').textContent = currentModalImages.length;
        }
        
        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            const modal = document.getElementById('imageModal');
            if (modal.style.display === 'block') {
                if (e.key === 'Escape') closeModal();
                else if (e.key === 'ArrowLeft') changeModalImage(-1);
                else if (e.key === 'ArrowRight') changeModalImage(1);
            }
        });
        
        // Mobile menu
        document.querySelector('.mobile-menu-btn')?.addEventListener('click', function() {
            document.querySelector('.nav-links').classList.toggle('active');
        });
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Load resorts from API
            loadResorts();
            
            // Close modal on background click
            const modal = document.getElementById('imageModal');
            if (modal) {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        closeModal();
                    }
                });
            }
            
            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                const modal = document.getElementById('imageModal');
                if (modal && modal.style.display === 'flex') {
                    if (e.key === 'Escape') {
                        closeModal();
                    } else if (e.key === 'ArrowLeft') {
                        changeModalImage(-1);
                    } else if (e.key === 'ArrowRight') {
                        changeModalImage(1);
                    }
                }
            });
            
            // Mobile menu
            document.querySelector('.mobile-menu-btn')?.addEventListener('click', function() {
                document.querySelector('.nav-links').classList.toggle('active');
            });
        });
    </script>
</body>
</html>
