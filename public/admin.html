<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Í¥ÄÎ¶¨Ïûê ÌéòÏù¥ÏßÄ - ÏÑ†ÏÉ§Ïù∏Ìà¨Ïñ¥</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Noto Sans KR', sans-serif; background: #f5f7fa; color: #2c3e50; }
        
        /* Login Screen */
        .login-container { min-height: 100vh; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .login-box { background: white; padding: 3rem; border-radius: 16px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); width: 100%; max-width: 400px; }
        .login-title { text-align: center; margin-bottom: 2rem; color: #2c3e50; font-size: 1.8rem; }
        .form-group { margin-bottom: 1.5rem; }
        .form-label { display: block; margin-bottom: 0.5rem; font-weight: 600; color: #34495e; }
        .form-input { width: 100%; padding: 0.75rem 1rem; border: 2px solid #e0e6ed; border-radius: 8px; font-size: 1rem; }
        .form-input:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102,126,234,0.1); }
        .btn { padding: 0.75rem 1.5rem; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s; }
        .btn-primary { background: #667eea; color: white; width: 100%; }
        .btn-primary:hover { background: #5568d3; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(102,126,234,0.4); }
        .error-message { background: #e74c3c; color: white; padding: 0.75rem; border-radius: 8px; margin-bottom: 1rem; text-align: center; }
        
        /* Admin Panel */
        .admin-container { display: none; min-height: 100vh; }
        .admin-header { background: white; padding: 1.5rem 2rem; box-shadow: 0 2px 8px rgba(0,0,0,0.1); display: flex; justify-content: space-between; align-items: center; }
        .admin-title { font-size: 1.5rem; font-weight: 700; color: #2c3e50; }
        .btn-logout { background: #e74c3c; color: white; padding: 0.5rem 1.5rem; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; }
        .btn-logout:hover { background: #c0392b; }
        
        .admin-content { padding: 2rem; max-width: 1400px; margin: 0 auto; }
        
        /* Navigation Steps */
        .breadcrumb { background: white; padding: 1rem 2rem; margin-bottom: 2rem; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
        .breadcrumb-item { display: inline-block; color: #7f8c8d; font-size: 0.9rem; }
        .breadcrumb-item.active { color: #667eea; font-weight: 600; }
        .breadcrumb-separator { margin: 0 0.5rem; color: #bdc3c7; }
        .btn-back { background: #95a5a6; color: white; padding: 0.5rem 1rem; border: none; border-radius: 6px; cursor: pointer; font-size: 0.9rem; margin-bottom: 1rem; }
        .btn-back:hover { background: #7f8c8d; }
        
        /* Destination Grid */
        .destination-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; }
        .destination-card { background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 2px 12px rgba(0,0,0,0.08); text-align: center; cursor: pointer; transition: all 0.3s; border: 2px solid transparent; }
        .destination-card:hover { transform: translateY(-4px); box-shadow: 0 8px 24px rgba(0,0,0,0.15); border-color: #667eea; }
        .destination-icon { font-size: 3rem; margin-bottom: 1rem; }
        .destination-name { font-size: 1.2rem; font-weight: 600; color: #2c3e50; }
        
        /* Region Grid */
        .region-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 1rem; }
        .region-card { background: white; padding: 1.5rem; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); text-align: center; cursor: pointer; transition: all 0.3s; border: 2px solid transparent; }
        .region-card:hover { transform: translateY(-3px); box-shadow: 0 6px 16px rgba(0,0,0,0.12); border-color: #3498db; }
        .region-name { font-size: 1rem; font-weight: 600; color: #2c3e50; }
        
        /* Resort Management */
        .resort-section { background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 2px 12px rgba(0,0,0,0.08); margin-bottom: 2rem; }
        .section-title { font-size: 1.3rem; font-weight: 700; color: #2c3e50; margin-bottom: 1.5rem; padding-bottom: 0.5rem; border-bottom: 2px solid #ecf0f1; }
        .btn-add { background: #27ae60; color: white; padding: 0.75rem 1.5rem; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; margin-bottom: 1.5rem; }
        .btn-add:hover { background: #229954; }
        
        /* Resort Form */
        .resort-form { display: none; background: #ecf0f1; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem; }
        .resort-form.active { display: block; }
        .form-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-bottom: 1rem; }
        .form-control { width: 100%; padding: 0.75rem; border: 2px solid #bdc3c7; border-radius: 6px; font-size: 0.95rem; }
        .form-control:focus { outline: none; border-color: #3498db; }
        .btn-submit { background: #3498db; color: white; padding: 0.75rem 2rem; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; margin-right: 0.5rem; }
        .btn-submit:hover { background: #2980b9; }
        .btn-cancel { background: #95a5a6; color: white; padding: 0.75rem 2rem; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; }
        .btn-cancel:hover { background: #7f8c8d; }
        
        /* Resort List */
        .resort-list { display: grid; gap: 1rem; }
        .resort-item { background: #f8f9fa; padding: 1.5rem; border-radius: 8px; border-left: 4px solid #3498db; display: flex; justify-content: space-between; align-items: center; }
        .resort-info h4 { font-size: 1.1rem; color: #2c3e50; margin-bottom: 0.5rem; }
        .resort-info p { font-size: 0.9rem; color: #7f8c8d; }
        .resort-actions { display: flex; gap: 0.5rem; }
        .btn-edit { background: #f39c12; color: white; padding: 0.5rem 1rem; border: none; border-radius: 6px; cursor: pointer; font-size: 0.9rem; }
        .btn-edit:hover { background: #e67e22; }
        .btn-delete { background: #e74c3c; color: white; padding: 0.5rem 1rem; border: none; border-radius: 6px; cursor: pointer; font-size: 0.9rem; }
        .btn-delete:hover { background: #c0392b; }
        .btn-toggle { background: #95a5a6; color: white; padding: 0.5rem 1rem; border: none; border-radius: 6px; cursor: pointer; font-size: 0.9rem; }
        .btn-toggle:hover { background: #7f8c8d; }
        .btn-toggle.active { background: #27ae60; }
        
        .hidden { display: none; }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div class="login-container" id="loginScreen">
        <div class="login-box">
            <h2 class="login-title">üåÖ ÏÑ†ÏÉ§Ïù∏Ìà¨Ïñ¥ Í¥ÄÎ¶¨Ïûê</h2>
            <div id="loginError" class="error-message hidden">ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏäµÎãàÎã§.</div>
            <form id="loginForm">
                <div class="form-group">
                    <label class="form-label">ÎπÑÎ∞ÄÎ≤àÌò∏</label>
                    <input type="password" id="passwordInput" class="form-input" placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî" required>
                </div>
                <button type="submit" class="btn btn-primary">Î°úÍ∑∏Ïù∏</button>
            </form>
        </div>
    </div>

    <!-- Admin Panel -->
    <div class="admin-container" id="adminPanel">
        <!-- Header -->
        <div class="admin-header">
            <h1 class="admin-title">ÏÑ†ÏÉ§Ïù∏Ìà¨Ïñ¥ Í¥ÄÎ¶¨Ïûê</h1>
            <button class="btn-logout" onclick="logout()">Î°úÍ∑∏ÏïÑÏõÉ</button>
        </div>

        <!-- Content -->
        <div class="admin-content">
            <!-- Breadcrumb -->
            <div class="breadcrumb">
                <span class="breadcrumb-item" id="breadcrumb"></span>
            </div>

            <!-- Back Button -->
            <button class="btn-back hidden" id="backBtn" onclick="goBack()">
                <i class="fas fa-arrow-left"></i> Îí§Î°úÍ∞ÄÍ∏∞
            </button>

            <!-- Step 1: Destination Selection -->
            <div id="destinationStep">
                <div class="resort-section">
                    <h2 class="section-title">üìç Î™©Ï†ÅÏßÄ ÏÑ†ÌÉù</h2>
                    <div class="destination-grid" id="destinationGrid"></div>
                </div>
            </div>

            <!-- Step 2: Region Selection -->
            <div id="regionStep" class="hidden">
                <div class="resort-section">
                    <h2 class="section-title">üó∫Ô∏è <span id="currentDestinationName"></span> - ÏßÄÏó≠ ÏÑ†ÌÉù</h2>
                    <div class="region-grid" id="regionGrid"></div>
                </div>
            </div>

            <!-- Step 3: Resort Management -->
            <div id="resortStep" class="hidden">
                <div class="resort-section">
                    <h2 class="section-title">üè® <span id="currentRegionName"></span> - Î¶¨Ï°∞Ìä∏ Í¥ÄÎ¶¨</h2>
                    
                    <button class="btn-add" onclick="showResortForm()">
                        <i class="fas fa-plus"></i> ÏÉà Î¶¨Ï°∞Ìä∏ Ï∂îÍ∞Ä
                    </button>

                    <!-- Resort Form -->
                    <div class="resort-form" id="resortForm">
                        <h3 style="margin-bottom: 1rem; color: #2c3e50;">Î¶¨Ï°∞Ìä∏ Ï†ïÎ≥¥ ÏûÖÎ†•</h3>
                        <form id="resortDataForm">
                            <div class="form-row">
                                <input type="text" class="form-control" id="resortName" placeholder="Î¶¨Ï°∞Ìä∏ Ïù¥Î¶Ñ" required>
                                <input type="text" class="form-control" id="resortType" placeholder="Î¶¨Ï°∞Ìä∏ ÌÉÄÏûÖ (Ïòà: 5ÏÑ±Í∏â, Îü≠ÏÖîÎ¶¨)">
                            </div>
                            <div class="form-row">
                                <input type="url" class="form-control" id="resortImage" placeholder="Ïù¥ÎØ∏ÏßÄ URL">
                                <input type="text" class="form-control" id="resortPrice" placeholder="Í∞ÄÍ≤© (Ïòà: $500/Î∞ï)">
                            </div>
                            <div class="form-row">
                                <textarea class="form-control" id="resortDescription" placeholder="ÏÑ§Î™Ö" rows="3" style="grid-column: 1 / -1;"></textarea>
                            </div>
                            <div class="form-row">
                                <input type="text" class="form-control" id="resortFeatures" placeholder="Ï£ºÏöî ÌäπÏßï (ÏâºÌëúÎ°ú Íµ¨Î∂Ñ)">
                            </div>
                            <div style="margin-top: 1rem;">
                                <button type="submit" class="btn-submit">Ï†ÄÏû•</button>
                                <button type="button" class="btn-cancel" onclick="hideResortForm()">Ï∑®ÏÜå</button>
                            </div>
                        </form>
                    </div>

                    <!-- Resort List -->
                    <div class="resort-list" id="resortList"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Password
        const ADMIN_PASSWORD = 'sun2026@';
        
        // Destination and Region Structure
        const DESTINATIONS = {
            'ÌÉúÍµ≠': {
                icon: 'üáπüá≠',
                regions: ['Ìë∏Ïºì', 'Ïπ¥Ïò§ÎùΩ', 'ÎÅÑÎùºÎπÑ', 'ÏΩîÏÇ¨Î¨¥Ïù¥', 'ÌååÌÉÄÏïº', 'Î∞©ÏΩï']
            },
            'Ïù∏ÎèÑÎÑ§ÏãúÏïÑ': {
                icon: 'üáÆüá©',
                regions: ['Î∞úÎ¶¨', 'Î°¨Î≥µ']
            },
            'ÌïòÏôÄÏù¥': {
                icon: 'üå∫',
                regions: ['Ïò§ÏïÑÌõÑ', 'ÎßàÏö∞Ïù¥', 'ÎπÖÏïÑÏùºÎûúÎìú', 'Ïπ¥Ïö∞ÏïÑÏù¥']
            },
            'Ïπ∏Ïø§': {
                icon: 'üá≤üáΩ',
                regions: ['Ïπ∏Ïø§', 'ÌîåÎùºÏïºÎç∏Ïπ¥Î•¥Î©ò', 'Ìà¥Î£∏']
            },
            'ÌïÑÎ¶¨ÌïÄ': {
                icon: 'üáµüá≠',
                regions: ['Î≥¥ÎùºÏπ¥Ïù¥', 'ÏÑ∏Î∂Ä', 'Î≥¥ÌôÄ', 'ÌåîÎùºÏôÑ']
            },
            'Î™∞ÎîîÎ∏å': {
                icon: 'üá≤üáª',
                regions: ['Î∂ÅÎßêÎ†à', 'ÎÇ®ÎßêÎ†à', 'ÏïÑÎ¶¨', 'Î∞î']
            },
            'ÎÇ®ÌÉúÌèâÏñë': {
                icon: 'üåä',
                regions: ['ÌîºÏßÄ', 'ÌÉÄÌûàÌã∞', 'Îâ¥ÏπºÎ†àÎèÑÎãàÏïÑ', 'ÏÇ¨Î™®ÏïÑ']
            },
            'Îã§ÎÇ≠': {
                icon: 'üáªüá≥',
                regions: ['Îã§ÎÇ≠', 'Ìò∏Ïù¥Ïïà']
            },
            'Î™®Î¶¨ÏÖîÏä§': {
                icon: 'üá≤üá∫',
                regions: ['Î∂ÅÎ∂Ä', 'ÎèôÎ∂Ä', 'ÏÑúÎ∂Ä', 'ÎÇ®Î∂Ä']
            }
        };

        // State Management
        let currentDestination = null;
        let currentRegion = null;
        let editingResortId = null;
        let resorts = JSON.parse(localStorage.getItem('resorts')) || {};

        // Login
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const password = document.getElementById('passwordInput').value;
            
            if (password === ADMIN_PASSWORD) {
                document.getElementById('loginScreen').style.display = 'none';
                document.getElementById('adminPanel').style.display = 'block';
                initializeDestinations();
            } else {
                document.getElementById('loginError').classList.remove('hidden');
            }
        });

        function logout() {
            document.getElementById('loginScreen').style.display = 'flex';
            document.getElementById('adminPanel').style.display = 'none';
            document.getElementById('passwordInput').value = '';
            document.getElementById('loginError').classList.add('hidden');
        }

        // Initialize Destinations
        function initializeDestinations() {
            const grid = document.getElementById('destinationGrid');
            grid.innerHTML = '';
            
            Object.keys(DESTINATIONS).forEach(dest => {
                const card = document.createElement('div');
                card.className = 'destination-card';
                card.innerHTML = `
                    <div class="destination-icon">${DESTINATIONS[dest].icon}</div>
                    <div class="destination-name">${dest}</div>
                `;
                card.onclick = () => selectDestination(dest);
                grid.appendChild(card);
            });
            
            updateBreadcrumb('Î™©Ï†ÅÏßÄ ÏÑ†ÌÉù');
        }

        // Select Destination
        function selectDestination(destination) {
            currentDestination = destination;
            
            document.getElementById('destinationStep').classList.add('hidden');
            document.getElementById('regionStep').classList.remove('hidden');
            document.getElementById('backBtn').classList.remove('hidden');
            
            document.getElementById('currentDestinationName').textContent = destination;
            
            const grid = document.getElementById('regionGrid');
            grid.innerHTML = '';
            
            DESTINATIONS[destination].regions.forEach(region => {
                const card = document.createElement('div');
                card.className = 'region-card';
                card.innerHTML = `<div class="region-name">${region}</div>`;
                card.onclick = () => selectRegion(region);
                grid.appendChild(card);
            });
            
            updateBreadcrumb(`Î™©Ï†ÅÏßÄ ÏÑ†ÌÉù > ${destination}`);
        }

        // Select Region
        function selectRegion(region) {
            currentRegion = region;
            
            document.getElementById('regionStep').classList.add('hidden');
            document.getElementById('resortStep').classList.remove('hidden');
            
            document.getElementById('currentRegionName').textContent = `${currentDestination} - ${region}`;
            
            loadResorts();
            updateBreadcrumb(`Î™©Ï†ÅÏßÄ ÏÑ†ÌÉù > ${currentDestination} > ${region}`);
        }

        // Go Back
        function goBack() {
            if (document.getElementById('resortStep').classList.contains('hidden') === false) {
                // Resort -> Region
                document.getElementById('resortStep').classList.add('hidden');
                document.getElementById('regionStep').classList.remove('hidden');
                hideResortForm();
                updateBreadcrumb(`Î™©Ï†ÅÏßÄ ÏÑ†ÌÉù > ${currentDestination}`);
            } else if (document.getElementById('regionStep').classList.contains('hidden') === false) {
                // Region -> Destination
                document.getElementById('regionStep').classList.add('hidden');
                document.getElementById('destinationStep').classList.remove('hidden');
                document.getElementById('backBtn').classList.add('hidden');
                currentDestination = null;
                updateBreadcrumb('Î™©Ï†ÅÏßÄ ÏÑ†ÌÉù');
            }
        }

        // Update Breadcrumb
        function updateBreadcrumb(text) {
            document.getElementById('breadcrumb').textContent = text;
        }

        // Resort Management
        function showResortForm() {
            document.getElementById('resortForm').classList.add('active');
            editingResortId = null;
            document.getElementById('resortDataForm').reset();
        }

        function hideResortForm() {
            document.getElementById('resortForm').classList.remove('active');
            editingResortId = null;
            document.getElementById('resortDataForm').reset();
        }

        document.getElementById('resortDataForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const resortData = {
                id: editingResortId || Date.now().toString(),
                destination: currentDestination,
                region: currentRegion,
                name: document.getElementById('resortName').value,
                type: document.getElementById('resortType').value,
                image: document.getElementById('resortImage').value,
                price: document.getElementById('resortPrice').value,
                description: document.getElementById('resortDescription').value,
                features: document.getElementById('resortFeatures').value.split(',').map(f => f.trim()),
                enabled: true
            };
            
            const key = `${currentDestination}_${currentRegion}`;
            if (!resorts[key]) resorts[key] = [];
            
            if (editingResortId) {
                const index = resorts[key].findIndex(r => r.id === editingResortId);
                resorts[key][index] = resortData;
            } else {
                resorts[key].push(resortData);
            }
            
            localStorage.setItem('resorts', JSON.stringify(resorts));
            hideResortForm();
            loadResorts();
        });

        function loadResorts() {
            const key = `${currentDestination}_${currentRegion}`;
            const regionResorts = resorts[key] || [];
            
            const list = document.getElementById('resortList');
            list.innerHTML = '';
            
            if (regionResorts.length === 0) {
                list.innerHTML = '<p style="text-align: center; color: #7f8c8d; padding: 2rem;">Îì±Î°ùÎêú Î¶¨Ï°∞Ìä∏Í∞Ä ÏóÜÏäµÎãàÎã§.</p>';
                return;
            }
            
            regionResorts.forEach(resort => {
                const item = document.createElement('div');
                item.className = 'resort-item';
                item.style.opacity = resort.enabled ? '1' : '0.5';
                
                item.innerHTML = `
                    <div class="resort-info">
                        <h4>${resort.name} ${resort.enabled ? '' : '(ÎπÑÌôúÏÑ±Ìôî)'}</h4>
                        <p>${resort.type || ''} ${resort.price ? '¬∑ ' + resort.price : ''}</p>
                    </div>
                    <div class="resort-actions">
                        <button class="btn-toggle ${resort.enabled ? 'active' : ''}" onclick="toggleResort('${resort.id}')">
                            ${resort.enabled ? 'ÌôúÏÑ±Ìôî' : 'ÎπÑÌôúÏÑ±Ìôî'}
                        </button>
                        <button class="btn-edit" onclick="editResort('${resort.id}')">ÏàòÏ†ï</button>
                        <button class="btn-delete" onclick="deleteResort('${resort.id}')">ÏÇ≠Ï†ú</button>
                    </div>
                `;
                
                list.appendChild(item);
            });
        }

        function editResort(id) {
            const key = `${currentDestination}_${currentRegion}`;
            const resort = resorts[key].find(r => r.id === id);
            
            editingResortId = id;
            document.getElementById('resortName').value = resort.name;
            document.getElementById('resortType').value = resort.type;
            document.getElementById('resortImage').value = resort.image;
            document.getElementById('resortPrice').value = resort.price;
            document.getElementById('resortDescription').value = resort.description;
            document.getElementById('resortFeatures').value = resort.features.join(', ');
            
            showResortForm();
        }

        function deleteResort(id) {
            if (!confirm('Ïù¥ Î¶¨Ï°∞Ìä∏Î•º ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) return;
            
            const key = `${currentDestination}_${currentRegion}`;
            resorts[key] = resorts[key].filter(r => r.id !== id);
            localStorage.setItem('resorts', JSON.stringify(resorts));
            loadResorts();
        }

        function toggleResort(id) {
            const key = `${currentDestination}_${currentRegion}`;
            const resort = resorts[key].find(r => r.id === id);
            resort.enabled = !resort.enabled;
            localStorage.setItem('resorts', JSON.stringify(resorts));
            loadResorts();
        }
    </script>
</body>
</html>
